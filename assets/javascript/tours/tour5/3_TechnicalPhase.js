let technicalPhase = [
	{
		text:'<h2>'
		+  'The Technical Phase'
		+'</h2>'
		+'<p>'
		+  'After you have conceptualized your model, it is time to implement, run and analyse it. This is the <b> Technical Phase </b>.'
		+'</p>'
		+'<p>'
		+  'The Technical Phase may be broken up in a number of different steps, which will be discussed in turn.'
		+'</p>'
		+'<figure>'
		+  '<img src="assets/images/Technical_Phase.png" height="75x">'
		+  '<figcaption>The Technical Phase, adapted from Romanowska, 2015</figcaption>'
		+'</figure>'
		+'<p>'
		+  'In this lesson, you will learn:'
		+'</p>'
		+'<ul>'
		+  '<li>about parameterization;</li>'
		+  '<li>how to design experiments;</li>'
		+  '<li>how to analyse and interpret your model.</li>'
		+'</ul>'
		+'<footer class="citation">'
		+  'Romanowska, Iza. "So you think you can model? A guide to building and evaluating archaeological simulation models of dispersals." <i>Human biology</i> 87, no. 3 (2015): 169-192.'
		+'</footer>',
	},
	{
		text:'<p>'
		+  '<b>Step 5: Coding and testing</b>'
		+'</p>'
		+'<p>'
		+  'Coding and testing is the aspect of ABM that we have focussed on primarily in these tutorials. However, it is important to keep in mind that model implementation is only one phase and, '
		+  'once a certain level of programming is reached, one of the easiest ones.'
		+'</p>'
		+'<p>'
		+  'Good modeling lies in asking the right questions, developing a correct description of the modeled system, and drawing appropriate conclusions from the scenarios run. '
		+  'What is critically important is that the code represents the intentions of the modeler, that is, that there are no errors (bugs) in it that would render the results incorrect.'
		+'</p>'
	},
	{
		text:'<p>'
		+  '<b>Step 5: Coding and testing</b>'
		+'</p>'
		+'<p>'
		+  'An important part of the coding process is the documentation. We will discuss the high-level description of the model and its publication later but at this stage, '
		+  'you should already be producing code comments, that is the so-called inline documentation. We have skipped most of the inline documentation in the tutorials to simplify '
		+  'the code visually and reduce the complexity to the learner. However, all code should ideally be commented and you will find many examples of how this is done in published models.'
		+'</p>',
	},
	{
		text:'<p>'
		+  '<b>Step 5: Coding and testing</b>'
		+'</p>'
		+'<p>'
		+  'Of course, a well-conceptualized model needs to be translated into computer code, and that is an art in itself. In computer code, '
		+  'there is no room for the ambiguity inherent to verbal models. After the model is coded (implemented), it is necessary to test that it does what it is supposed to do, '
		+  'a process known as <b>verification</b>.'
		+'</p>'
		+'<p>'
		+  'To ensure that the code is robust, or in simple terms, the simulation does what we want it to do it is necessary to run tests. '
		+  'Code testing is a big area of computer science and many code testing techniques exist. We already did some code testing in 3.6:Debugging.'
		+'</p>',
	},
	{
		text:'<p>'
		+  '<b>Step 5: Coding and testing </b>'
		+'</p>'
		+'<p>'
		+  'An important part of the coding process is the documentation. We will discuss the high-level description of the model and its publication in the last lesson. '
		+  'However, at this stage, you should already be producing code comments: <b>inline documentation</b>.'
		+'</p>'
		+'<p>'
		+  'We have skipped most of the inline documentation in the tutorials to simplify the code visually and reduce the complexity for the learner. '
		+  'However, ideally, all code will be commented on and you will find many examples of how this is done in published models.'
		+'</p>',
	},
	{
		text:'<p>'
		+  '<b>Step 6: Parametrization </b>'
		+'</p>'
		+'<p>'
		+  'Parameters are the values you give your model at the start of your run. These remain static, making them different from variables, which change throughout the run. '
		+  'They are like your model\'s \'settings\', and often represent some assumption that you want to test.</p><p> In NetLogo parameters are often represented as interface elements. '
		+  'For example, the <code class="sliderName">weighted-trade-choice</code> slider controls the parameter of the same name, which determines whether agents prefer Etruscan or Greek wine.'
		+'</p>',
		attachTo:{
			on: 'right',
			element: '.netlogo-display-vertical',
		},
	},
	{
		text:'<p>'
		+  '<b>Step 6: Parametrization</b>'
		+'</p>'
		+'<p>'
		+  'Parametrization may involve finding a topographical map of the area, or finding out what the average population growth rate among hunter-gatherers is. '
		+  'To avoid the “garbage in, garbage out” problem it is important to base our model on input values and ranges of values that are as secure as possible. '
		+  'Those may come from historical sources, ethnographical datasets, or prior research.'
		+'</p>'
		+'<p>'
		+  'Depending on your research question, the parametrization process may look different. For example, models focused on exploration may be tested with wide value ranges used for parameters, '
		+  'while models focused on hypothesis testing often employ narrower ranges based on empirical data (Premo, 2010).'
		+'</p>'
		+'<footer class="citation">'
		+  'Premo, Luke S. "On the role of agent-based modeling in post-positivist archaeology." In Simulating change: Archaeology into the 21st Century, pp. 28-37. '
		+  'University of Utah Press, 2010.'
		+'</footer>'
	},
	{
		text:'<p>'
		+  '<b>Step 6: Parametrization</b>'
		+'</p>'
		+'<p>'
		+  'An important technique related to parameterization is <b>sensitivity analysis</b>. In sensitivity analysis, the modeler varies each parameter - usually one at a time - '
		+  'to see whether it has a strong impact on the model results. This helps us understand which parameters are the most critical ones and should therefore be very carefully '
		+  'chosen and which are less important and could potentially be just set to one value.'
		+'</p>'
		+'<p>'
		+  'If done well, sensitivity analysis can also highlight what kind of further evidence we may need to make the model more robust and advance our knowledge in general. '
		+  'For example, perhaps it is difficult to interpret trends in pottery production if the number of workshops is not known or the impact of knowledge transmission '
		+  'between workshops requires more research. In this way, modeling often opens up completely new avenues of inquiry and highlights gaps in our knowledge of the past.'
		+'</p>'
	},
	{
		text:'<p>'
		+  '<b>Step 7. Experiment Design</b>'
		+'</p>'
		+'<p>'
		+  'After parametrization, your simulation is ready to go!'
		+'</p>'
		+'<p>'
		+  'But what does this “go” actually mean? This is what <b> Experiment design </b> determines! If you follow three simple questions it can be a breeze:'
		+'</p>'
		+'<ul>'
		+  '<li>First, what kind of data should the model generate? </li>'
		+  '<li>Second, how should the model be run?  </li>'
		+  '<li>Third, what kind of scenarios should be modelled?</li>'
		+'</ul>'
		+'<p>'
		+  'As in virtually all the other steps, the research questions should be your guide for every decision you make.'
		+'</p>',
	},
	{
		text:'<p>'
		+  '<b>Step 7. Experiment Design: What kind of data should the model generate? </b>'
		+'</p>'
		+'<p>'
		+  'While it is admittedly a lot of fun watching the agents as they go about their business ultimately the goal of the model is to produce scientifically verifiable patterns. '
		+  'So what is it that we should be recording?'
		+'</p>'
		+'<p>'
		+  'This depends on the research questions. For some models, we need <b>numeric outputs</b> - e.g., the wealth distribution of the agents or the volume of pottery produced. '
		+  'In others, we base our interpretation on the so-called <b>artificial archaeological record</b>, that is, data that mirrors the creation of real archaeological data '
		+  '(e.g., aggregations of artifacts or evolution of urban plans).'
		+'</p>'
		+'<p>'
		+  'Finally, commonly modellers look for so-called <b>stylised facts</b>: simplified representations of known empirical patterns. '
		+  'Rather than matching individual details, stylized facts capture broad tendencies that capture essential truths about the system but may not necessarily match individual details. '
		+  'A good example would be a preference for settlements to be within a certain distance from water sources - a simulation may mimic this pattern without the need to match the exact '
		+  'location of the known archaeological sites.'
		+'</p>'
	},
	{
		text:'<p>'
		+  '<b>Step 7. Experiment Design: What kind of scenarios should be modeled?</b>'
		+'</p>'
		+'<p>'
		+  'Do you need to test multiple alternatives, such as yes/no scenarios? This is called <bHistoriehuis Roermond>alternative scenario testing</b>.'
		+'</p>'
		+'<p>'
		+  'Or will you be looking for a particular range of parameter values that produces results that match patterns in archaeological data? This is called a <b>parameter sweep</b>.'
		+'</p>'
	},
	{
		text:'<p>'
		+  '<b>Step 7. Experiment Design: What kind of scenarios should be modeled? </b>'
		+'</p>'
		+'<p>'
		+  'Depending on your research questions, different methods of running the simulation may be best.'
		+'</p>'
		+'<p>'
		+  'For example, if you are interested in the spread of a cultural feature in a population you may test different levels of interactions in a parameter sweep. '
		+  'We could run AmphorABM multiple times, varying the <code class="sliderName">weighted-trade-choice</code> slider which determines the population\'s preference for Greek or Etruscan wine.'
		+'</p>'
		+'<p>'
		+  'But you can also test whether a particular type of network, e.g., a small world network or a fully connected one produces qualitatively different results (alternative scenario testing). '
		+  'An example of alternative scenarios in AmphorABM would be one with and without miners, which can be toggled between with the <code class="sliderName">metals?</code> switch.'
		+'</p>'
		+'<p>'
		+  'In lesson 5.5, we will be running both these type of experiments.'
		+'</p>',
		attachTo:{
			on: 'right',
			element: '.netlogo-display-vertical',
		},
	},
	{
		text:'<p>'
		+  '<b>Step 7. Experiment Design: How should the model be run?</b>'
		+'</p>'
		+'<p>'
		+  'The most important considerations here are: how is the model initialised? and how is it stopped? In simple terms, what is the starting point of our artificial world - '
		+  'how many agents are there? Where are they located? What are their starting variables?'
		+'</p>'
		+'<p>'
		+  'In a similar vein, when should the simulation stop? Sometimes this is easy to determine, for example, because all agents are dead or because we have set a specific time period we model, '
		+  'like here with AmphorABM. But in other cases, the model could be run ad infinitum and we need to decide when is it that we are not learning anything more from it and it should stop.'
		+'</p>'
		+'<p>'
		+  'It is also important to consider what parameters are pegged to particular values (see the parametrization step) and whether we need to export data at every step or aggregate '
		+  'them at the end of the run (see previous step).'
		+'</p>'
	},
	{
		text:'<p>'
		+  '<b>Step 7. Experiment Design: How should the model be run? </b>'
		+'</p>'
		+'<p>'
		+  'Another consideration is how many times to run each experiment. One <b>run</b> is one repetition of a given experiment. '
		+  'Most ABMs incorporate stochasticity, meaning that for the same parametrization, results may differ slightly per run. '
		+  'The more stochasticity, the more repetitions are needed to understand the model\'s full range of behavior.'
		+'</p>'
		+'<p>'
		+  'Computers are not capable of true randomness, but rather use a <b>random number generator (RNG)</b> and a <b>seed</b> to ensure seemingly random behavior. '
		+  'A seed is a number that is used as the start of the pseudo-random number sequence, and it will dictate any randomness in the simulation.'
		+'</p>'
		+'<figure>'
		+  '<img src="assets/images/experiment_design.png" height="300px">'
		+  '<figcaption>Relation between model scenarios, experiments and runs, Romanowska, Wren, and Crabtree, 2021, p.315</figcaption>'
		+'</figure>'
		+'<p>'
		+  'This kind of pseudo-randomness is actually beneficial when using models in science, because if the seed is reported, the results can be replicated (see the Dissemination Phase).'
		+'</p>'
		+'<footer class="citation">'
		+  'Romanowska, Iza, Colin D. Wren, and Stefani A. Crabtree. <i>Agent-based modeling for archaeology: simulating the complexity of societies.</i> SFI Press, 2021.'
		+'</footer>'
	},
	{
		text:'<p>'
		+  '<b>Step 7. Experiment Design: How should the model be run? </b>'
		+'</p>'
		+'<p>'
		+  'If you do not specify the seed, in Netlogo it will be based on the current date and time.'
		+'</p>'
		+'<p>'
		+  'To see how seeds function in action, check out <a href="http://www.netlogoweb.org/launch#http://ccl.northwestern.edu/netlogo/models/models/Code%20Examples/Random%20Seed%20Example.nlogo">'
		+  'this code example</a>. You can read more about Netlogo\'s \'random\' behavior <a href="https://ccl.northwestern.edu/netlogo/docs/programming.html#random-numbers">here</a>.'
		+'</p>'
	},
	{
		text:'<p>'
		+  '<b>Step 8. Analysis and interpretation of the results</b>'
		+'</p>'
		+'<p>'
		+  'It is a truth generally held that the effort required to analyze and interpret simulation results is directly correlated with the amount of work and deep thinking that '
		+  'went into the first step of the process: the definition of research questions. Poorly designed simulations produce results that are exceedingly difficult to analyze and interpret. '
		+  'In simple terms, if you don’t have a good question then you will not get a straightforward answer. It is therefore worth putting in the work up front.'
		+'</p>'
	},
	{
		text:'<p>'
		+  '<b>Step 8. Analysis and interpretation of the results </b>'
		+'</p>'
		+'<p>'
		+  'An important element of this step is <b>validation</b>. Validation refers to the process of ensuring not only that the model is coherent but also that '
		+  'it reflects the real system in a way that makes it a “valid” representation of the phenomenon we study. Thus validation can be described as establishing '
		+  'that the model is conceptually correct concerning the real-world system.'
		+'</p>'
		+'<p>'
		+  'This is done by comparing the modeled output to the data. Importantly, this data should not be used as input for the model, as then we would engage in circular argumentation.'
		+'</p>'

	},
	{
		text:'<p>'
		+  '<b>Step 8. Analysis and interpretation of the results</b>'
		+'</p>'
		+'<p>'
		+  'The most common way of validating archaeological models is by creating an “artificial archaeological record” that can then be directly compared with patterns in real archaeological data. '
		+  'It may mean that your agents will “drop” artifacts or “abandon” settlements. If patterns in the two datasets (artificial and real) match each other, '
		+  'it is a solid base (but not an absolute proof) that the model captures the main dynamics of the real past system.'
		+'</p>'
	},
	{
		text:'<p>'
		+  '<b>Step 8. Analysis and interpretation of the results </b>'
		+'</p>'
		+'<p>'
		+  'With hundreds of slightly different simulation scenarios run the output can easily go into hundreds or even thousands of files. '
		+  'Having at least basic data science skills is therefore necessary. Data analysis, scripting, and statistics fall beyond the scope of this course but we '
		+  'recommend starting to build these skills as they are tremendously useful. Many modelers also venture into the realm of High-Performance Computing '
		+  '(e.g., supercomputers) once standard-issued laptops cannot take the computational load produced by their models.'
		+'</p>'
		+'<p>'
		+  'The good news is that learning basic R or Python for data analysis is much easier than building full ABM models and you are likely to acquire the necessary skills very fast.'
		+'</p>'
	},

	{
		text:'<p>'
		+  '<b>Step 8. Analysis and interpretation of the results </b>'
		+'</p>'
		+'<p>'
		+  'To analyze your data, you first need to export it from Netlogo in an appropriate format. Lesson 5.5: Exporting Data goes into some of the practicalities of exporting data from Netlogo.'
		+'</p>'
	},
	{
		text:'<p>'
		+  'This is the end of the lesson, in it you will have learned:'
		+'</p>'
		+'<ul>'
		+  '<li>about parameterization; </li>'
		+  '<li>how to design experiments; </li>'
		+  '<li>how to analyse and interpret your model.</li>'
		+'</ul>'
		+'<p>'
		+  'The Technical Phase is where you will be applying most of the skills you have picked up through the tutorials, but its success largely depends on how well you conceptualized your model. '
		+  'For example, you might find during implementation that your model is not as well conceptualized as you initially thought, '
		+  'in which case you will have to revisit certain elements of your model. In addition, the \'success\' of your model also largely depends on how well you document and publish it. '
		+  'The next lesson goes more in-depth about this <b> Dissemination Phase</b>.'
		+'</p>'
	},
 ];
